<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://nodemon.io"

    >nodemon (v1.11.0)</a>
</h1>
<h4>Simple monitor script for use during development of a node.js app.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon">module nodemon</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.addListener">
            function <span class="apidocSignatureSpan">nodemon.</span>addListener
            <span class="apidocSignatureSpan">(event, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.emit">
            function <span class="apidocSignatureSpan">nodemon.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.on">
            function <span class="apidocSignatureSpan">nodemon.</span>on
            <span class="apidocSignatureSpan">(event, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.once">
            function <span class="apidocSignatureSpan">nodemon.</span>once
            <span class="apidocSignatureSpan">(event, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.removeAllListeners">
            function <span class="apidocSignatureSpan">nodemon.</span>removeAllListeners
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.reset">
            function <span class="apidocSignatureSpan">nodemon.</span>reset
            <span class="apidocSignatureSpan">(done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.restart">
            function <span class="apidocSignatureSpan">nodemon.</span>restart
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.version">
            function <span class="apidocSignatureSpan">nodemon.</span>version
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>config</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.config">module nodemon.config</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.config.</span>required</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.config.</span>run</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.config.load">
            function <span class="apidocSignatureSpan">nodemon.config.</span>load
            <span class="apidocSignatureSpan">(settings, ready)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.config.reset">
            function <span class="apidocSignatureSpan">nodemon.config.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">nodemon.config.</span>timeout</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.config.</span>dirs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.config.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.config.</span>system</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nodemon.config.</span>signal</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.version">module nodemon.version</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.version.version">
            function <span class="apidocSignatureSpan">nodemon.</span>version
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodemon.version.pin">
            function <span class="apidocSignatureSpan">nodemon.version.</span>pin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon" id="apidoc.module.nodemon">module nodemon</a></h1>


    <h2>
        <a href="#apidoc.element.nodemon.addListener" id="apidoc.element.nodemon.addListener">
        function <span class="apidocSignatureSpan">nodemon.</span>addListener
        <span class="apidocSignatureSpan">(event, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (event, handler) {
  if (!eventHandlers[event]) { eventHandlers[event] = []; }
  eventHandlers[event].push(handler);
  bus.on(event, handler);
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.emit" id="apidoc.element.nodemon.emit">
        function <span class="apidocSignatureSpan">nodemon.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () {
  bus.emit.apply(bus, [].slice.call(arguments));
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
child = spawn(sh, args);
  }

  if (config.required) {
var emit = {
  stdout: function (data) {
    bus.<span class="apidocCodeKeywordSpan">emit</span>(&#x27;stdout&#x27;, data);
  },
  stderr: function (data) {
    bus.emit(&#x27;stderr&#x27;, data);
  },
};

// now work out what to bind to...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.on" id="apidoc.element.nodemon.on">
        function <span class="apidocSignatureSpan">nodemon.</span>on
        <span class="apidocSignatureSpan">(event, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (event, handler) {
  if (!eventHandlers[event]) { eventHandlers[event] = []; }
  eventHandlers[event].push(handler);
  bus.on(event, handler);
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Pipe output to somewhere else

```js
nodemon({
  script: ...,
  stdout: false // important: this tells nodemon not to output to console
}).<span class="apidocCodeKeywordSpan">on</span>(&#x27;readable&#x27;, function() { // the `readable` event indicates that data
is ready to pick up
  this.stdout.pipe(fs.createWriteStream(&#x27;output.txt&#x27;));
  this.stderr.pipe(fs.createWriteStream(&#x27;err.txt&#x27;));
});
```

## Using io.js for nodemon
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.once" id="apidoc.element.nodemon.once">
        function <span class="apidocSignatureSpan">nodemon.</span>once
        <span class="apidocSignatureSpan">(event, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (event, handler) {
  if (!eventHandlers[event]) { eventHandlers[event] = []; }
  eventHandlers[event].push(handler);
  bus.once(event, function () {
    debug(&#x27;bus.once(%s)&#x27;, event);
    eventHandlers[event].splice(eventHandlers[event].indexOf(handler), 1);
    handler.apply(this, arguments);
  });
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Controlling shutdown of your script

nodemon sends a kill signal to your application when it sees a file update. If you need to clean up on shutdown inside your script
 you can capture the kill signal and handle it yourself.

The following example will listen once for the `SIGUSR2` signal (used by nodemon to restart), run the clean up process and then
kill itself for nodemon to continue control:

    process.<span class="apidocCodeKeywordSpan">once</span>(&#x27;SIGUSR2&#x27;, function () {
      gracefulShutdown(function () {
        process.kill(process.pid, &#x27;SIGUSR2&#x27;);
      });
    });

Note that the `process.kill` is *only* called once your shutdown jobs are complete. Hat tip to [Benjie Gillam](http://www.benjiegillam
.com/2011/08/node-js-clean-restart-and-faster-development-with-nodemon/) for writing this technique up.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.removeAllListeners" id="apidoc.element.nodemon.removeAllListeners">
        function <span class="apidocSignatureSpan">nodemon.</span>removeAllListeners
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (event) {
  // unbind only the `nodemon.on` event handlers
  Object.keys(eventHandlers).filter(function (e) {
    return event ? e === event : true;
  }).forEach(function (event) {
    eventHandlers[event].forEach(function (handler) {
      bus.removeListener(event, handler);
      eventHandlers[event].splice(eventHandlers[event].indexOf(handler), 1);
    });
  });

  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.reset" id="apidoc.element.nodemon.reset">
        function <span class="apidocSignatureSpan">nodemon.</span>reset
        <span class="apidocSignatureSpan">(done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function (done) {
  bus.emit(&#x27;reset&#x27;, done);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.restart" id="apidoc.element.nodemon.restart">
        function <span class="apidocSignatureSpan">nodemon.</span>restart
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restart = function () {
  utils.log.status(&#x27;restarting child process&#x27;);
  bus.emit(&#x27;restart&#x27;);
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.version" id="apidoc.element.nodemon.version">
        function <span class="apidocSignatureSpan">nodemon.</span>version
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function version(callback) {
  // first find the package.json as this will be our root
  var promise = findPackage(path.dirname(module.parent.filename))
    .then(function (dir) {
    // now try to load the package
    var v = require(path.resolve(dir, &#x27;package.json&#x27;)).version;

    if (v &#x26;&#x26; v !== &#x27;0.0.0&#x27;) {
      return v;
    }

    root = dir;

    // else we&#x27;re in development, give the commit out
    // get the last commit and whether the working dir is dirty
    var promises = [
      branch().catch(function () { return &#x27;master&#x27;; }),
      commit().catch(function () { return &#x27;&#x3c;none&#x3e;&#x27;; }),
      dirty().catch(function () { return 0; }),
    ];

    // use the cached result as the export
    return Promise.all(promises).then(function (res) {
      var branch = res[0];
      var commit = res[1];
      var dirtyCount = parseInt(res[2], 10);
      var curr = branch + &#x27;: &#x27; + commit;
      if (dirtyCount !== 0) {
        curr += &#x27; (&#x27; + dirtyCount + &#x27; dirty files)&#x27;;
      }

      return curr;
    });
  }).catch(function (error) {
    console.log(error.stack);
    throw error;
  });

  if (callback) {
    promise.then(function (res) {
      callback(null, res);
    }, callback);
  }

  return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.config" id="apidoc.module.nodemon.config">module nodemon.config</a></h1>






    <h2>
        <a href="#apidoc.element.nodemon.config.load" id="apidoc.element.nodemon.config.load">
        function <span class="apidocSignatureSpan">nodemon.config.</span>load
        <span class="apidocSignatureSpan">(settings, ready)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (settings, ready) {
  reset();
  var config = this;
  load(settings, config.options, config, function (options) {
    config.options = options;

    if (options.watch.length === 0) {
      // this is to catch when the watch is left blank
      options.watch.push(&#x27;*.*&#x27;);
    }

    if (options[&#x27;watch_interval&#x27;]) { // jshint ignore:line
      options.watchInterval = options[&#x27;watch_interval&#x27;]; // jshint ignore:line
    }

    config.watchInterval = options.watchInterval || null;
    if (options[&#x27;signal&#x27;]) { // jshint ignore:line
      config.signal = options.signal;
    }

    var cmd = command(config.options);
    config.command = {
      raw: cmd,
      string: utils.stringify(cmd.executable, cmd.args),
    };

    // now run automatic checks on system adding to the config object
    options.monitor = rulesToMonitor(options.watch, options.ignore, config);

    var cwd = process.cwd();
    debug(&#x27;config: dirs&#x27;, config.dirs);
    if (config.dirs.length === 0) {
      config.dirs.unshift(cwd);
    }

    bus.emit(&#x27;config:update&#x27;, config);
    pinVersion().then(function () {
      ready(config);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.config.reset" id="apidoc.element.nodemon.config.reset">
        function <span class="apidocSignatureSpan">nodemon.config.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reset() {
  rules.reset();

  config.dirs = [];
  config.options = { ignore: [], watch: [] };
  config.lastStarted = 0;
  config.loaded = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.version" id="apidoc.module.nodemon.version">module nodemon.version</a></h1>


    <h2>
        <a href="#apidoc.element.nodemon.version.version" id="apidoc.element.nodemon.version.version">
        function <span class="apidocSignatureSpan">nodemon.</span>version
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function version(callback) {
  // first find the package.json as this will be our root
  var promise = findPackage(path.dirname(module.parent.filename))
    .then(function (dir) {
    // now try to load the package
    var v = require(path.resolve(dir, &#x27;package.json&#x27;)).version;

    if (v &#x26;&#x26; v !== &#x27;0.0.0&#x27;) {
      return v;
    }

    root = dir;

    // else we&#x27;re in development, give the commit out
    // get the last commit and whether the working dir is dirty
    var promises = [
      branch().catch(function () { return &#x27;master&#x27;; }),
      commit().catch(function () { return &#x27;&#x3c;none&#x3e;&#x27;; }),
      dirty().catch(function () { return 0; }),
    ];

    // use the cached result as the export
    return Promise.all(promises).then(function (res) {
      var branch = res[0];
      var commit = res[1];
      var dirtyCount = parseInt(res[2], 10);
      var curr = branch + &#x27;: &#x27; + commit;
      if (dirtyCount !== 0) {
        curr += &#x27; (&#x27; + dirtyCount + &#x27; dirty files)&#x27;;
      }

      return curr;
    });
  }).catch(function (error) {
    console.log(error.stack);
    throw error;
  });

  if (callback) {
    promise.then(function (res) {
      callback(null, res);
    }, callback);
  }

  return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodemon.version.pin" id="apidoc.element.nodemon.version.pin">
        function <span class="apidocSignatureSpan">nodemon.version.</span>pin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pin() {
  return version().then(function (v) {
    version.pinned = v;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
