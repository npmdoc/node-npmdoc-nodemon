<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api-documentation for
    <a
        
        href="http://nodemon.io"
        
    >nodemon (v1.11.0)</a>
</h1>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon">module nodemon</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.addListener">
            function <span class="apidocSignatureSpan">nodemon.</span>addListener
            <span class="apidocSignatureSpan">(event, handler)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.emit">
            function <span class="apidocSignatureSpan">nodemon.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.on">
            function <span class="apidocSignatureSpan">nodemon.</span>on
            <span class="apidocSignatureSpan">(event, handler)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.once">
            function <span class="apidocSignatureSpan">nodemon.</span>once
            <span class="apidocSignatureSpan">(event, handler)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.removeAllListeners">
            function <span class="apidocSignatureSpan">nodemon.</span>removeAllListeners
            <span class="apidocSignatureSpan">(event)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.reset">
            function <span class="apidocSignatureSpan">nodemon.</span>reset
            <span class="apidocSignatureSpan">(done)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.restart">
            function <span class="apidocSignatureSpan">nodemon.</span>restart
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.version">
            function <span class="apidocSignatureSpan">nodemon.</span>version
            <span class="apidocSignatureSpan">(callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>cli</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>config</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>monitor</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>rules</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>utils</span>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.cli">module nodemon.cli</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.cli.parse">
            function <span class="apidocSignatureSpan">nodemon.cli.</span>parse
            <span class="apidocSignatureSpan">(argv)</span>
            </a>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.config">module nodemon.config</a><ol>
        
        <li>
            
            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.config.</span>required</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.config.</span>run</span>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.config.load">
            function <span class="apidocSignatureSpan">nodemon.config.</span>load
            <span class="apidocSignatureSpan">(settings, ready)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.config.reset">
            function <span class="apidocSignatureSpan">nodemon.config.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">nodemon.config.</span>timeout</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.config.</span>dirs</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.config.</span>options</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.config.</span>system</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nodemon.config.</span>signal</span>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.monitor">module nodemon.monitor</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.monitor.run">
            function <span class="apidocSignatureSpan">nodemon.monitor.</span>run
            <span class="apidocSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.monitor.watch">
            function <span class="apidocSignatureSpan">nodemon.monitor.</span>watch
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.rules">module nodemon.rules</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.rules.add">
            function <span class="apidocSignatureSpan">nodemon.rules.</span>add
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.rules.load">
            function <span class="apidocSignatureSpan">nodemon.rules.</span>load
            <span class="apidocSignatureSpan">(filename, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.rules.reset">
            function <span class="apidocSignatureSpan">nodemon.rules.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.</span>rules</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.rules.</span>ignore</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.rules.</span>watch</span>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.utils">module nodemon.utils</a><ol>
        
        <li>
            
            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.utils.</span>isLinux</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.utils.</span>isMac</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.utils.</span>isRequired</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">nodemon.utils.</span>isWindows</span>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.utils.clone">
            function <span class="apidocSignatureSpan">nodemon.utils.</span>clone
            <span class="apidocSignatureSpan">(obj)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.utils.merge">
            function <span class="apidocSignatureSpan">nodemon.utils.</span>merge
            <span class="apidocSignatureSpan">(source, target, result)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.utils.quiet">
            function <span class="apidocSignatureSpan">nodemon.utils.</span>quiet
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.utils.regexpToText">
            function <span class="apidocSignatureSpan">nodemon.utils.</span>regexpToText
            <span class="apidocSignatureSpan">(t)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.utils.reset">
            function <span class="apidocSignatureSpan">nodemon.utils.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.utils.stringify">
            function <span class="apidocSignatureSpan">nodemon.utils.</span>stringify
            <span class="apidocSignatureSpan">(exec, args)</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.utils.</span>bus</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.utils.</span>log</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodemon.utils.</span>version</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nodemon.utils.</span>home</span>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.nodemon.version">module nodemon.version</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.version.version">
            function <span class="apidocSignatureSpan">nodemon.</span>version
            <span class="apidocSignatureSpan">(callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.nodemon.version.pin">
            function <span class="apidocSignatureSpan">nodemon.version.</span>pin
            <span class="apidocSignatureSpan">()</span>
            </a>
            
        </li>
        
    </ol></li>
    
</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon" id="apidoc.module.nodemon">module nodemon</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.nodemon.addListener" id="apidoc.element.nodemon.addListener">
        function <span class="apidocSignatureSpan">nodemon.</span>addListener
        <span class="apidocSignatureSpan">(event, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (event, handler) {
  if (!eventHandlers[event]) { eventHandlers[event] = []; }
  eventHandlers[event].push(handler);
  bus.on(event, handler);
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.emit" id="apidoc.element.nodemon.emit">
        function <span class="apidocSignatureSpan">nodemon.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () {
  bus.emit.apply(bus, [].slice.call(arguments));
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
child = spawn(sh, args);
  }

  if (config.required) {
var emit = {
  stdout: function (data) {
    bus.<span class="apidocCodeKeywordSpan">emit</span>(&#x27;stdout&#x27;, data);
  },
  stderr: function (data) {
    bus.emit(&#x27;stderr&#x27;, data);
  },
};

// now work out what to bind to...
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.on" id="apidoc.element.nodemon.on">
        function <span class="apidocSignatureSpan">nodemon.</span>on
        <span class="apidocSignatureSpan">(event, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (event, handler) {
  if (!eventHandlers[event]) { eventHandlers[event] = []; }
  eventHandlers[event].push(handler);
  bus.on(event, handler);
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Pipe output to somewhere else

```js
nodemon({
  script: ...,
  stdout: false // important: this tells nodemon not to output to console
}).<span class="apidocCodeKeywordSpan">on</span>(&#x27;readable&#x27;, function() { // the `readable` event indicates that data \
is ready to pick up
  this.stdout.pipe(fs.createWriteStream(&#x27;output.txt&#x27;));
  this.stderr.pipe(fs.createWriteStream(&#x27;err.txt&#x27;));
});
```

## Using io.js for nodemon
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.once" id="apidoc.element.nodemon.once">
        function <span class="apidocSignatureSpan">nodemon.</span>once
        <span class="apidocSignatureSpan">(event, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (event, handler) {
  if (!eventHandlers[event]) { eventHandlers[event] = []; }
  eventHandlers[event].push(handler);
  bus.once(event, function () {
    debug(&#x27;bus.once(%s)&#x27;, event);
    eventHandlers[event].splice(eventHandlers[event].indexOf(handler), 1);
    handler.apply(this, arguments);
  });
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Controlling shutdown of your script

nodemon sends a kill signal to your application when it sees a file update. If you need to clean up on shutdown inside your scri\
pt you can capture the kill signal and handle it yourself.

The following example will listen once for the `SIGUSR2` signal (used by nodemon to restart), run the clean up process and then \
kill itself for nodemon to continue control:

    process.<span class="apidocCodeKeywordSpan">once</span>(&#x27;SIGUSR2&#x27;, function () {
      gracefulShutdown(function () {
        process.kill(process.pid, &#x27;SIGUSR2&#x27;);
      });
    });

Note that the `process.kill` is *only* called once your shutdown jobs are complete. Hat tip to [Benjie Gillam](http://www.benjie\
gillam.com/2011/08/node-js-clean-restart-and-faster-development-with-nodemon/) for writing this technique up.
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.removeAllListeners" id="apidoc.element.nodemon.removeAllListeners">
        function <span class="apidocSignatureSpan">nodemon.</span>removeAllListeners
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (event) {
  // unbind only the `nodemon.on` event handlers
  Object.keys(eventHandlers).filter(function (e) {
    return event ? e === event : true;
  }).forEach(function (event) {
    eventHandlers[event].forEach(function (handler) {
      bus.removeListener(event, handler);
      eventHandlers[event].splice(eventHandlers[event].indexOf(handler), 1);
    });
  });

  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.reset" id="apidoc.element.nodemon.reset">
        function <span class="apidocSignatureSpan">nodemon.</span>reset
        <span class="apidocSignatureSpan">(done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function (done) {
  bus.emit(&#x27;reset&#x27;, done);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.restart" id="apidoc.element.nodemon.restart">
        function <span class="apidocSignatureSpan">nodemon.</span>restart
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restart = function () {
  utils.log.status(&#x27;restarting child process&#x27;);
  bus.emit(&#x27;restart&#x27;);
  return nodemon;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.version" id="apidoc.element.nodemon.version">
        function <span class="apidocSignatureSpan">nodemon.</span>version
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function version(callback) {
  // first find the package.json as this will be our root
  var promise = findPackage(path.dirname(module.parent.filename))
    .then(function (dir) {
    // now try to load the package
    var v = require(path.resolve(dir, &#x27;package.json&#x27;)).version;

    if (v &#x26;&#x26; v !== &#x27;0.0.0&#x27;) {
      return v;
    }

    root = dir;

    // else we&#x27;re in development, give the commit out
    // get the last commit and whether the working dir is dirty
    var promises = [
      branch().catch(function () { return &#x27;master&#x27;; }),
      commit().catch(function () { return &#x27;&#x3c;none&#x3e;&#x27;; }),
      dirty().catch(function () { return 0; }),
    ];

    // use the cached result as the export
    return Promise.all(promises).then(function (res) {
      var branch = res[0];
      var commit = res[1];
      var dirtyCount = parseInt(res[2], 10);
      var curr = branch + &#x27;: &#x27; + commit;
      if (dirtyCount !== 0) {
        curr += &#x27; (&#x27; + dirtyCount + &#x27; dirty files)&#x27;;
      }

      return curr;
    });
  }).catch(function (error) {
    console.log(error.stack);
    throw error;
  });

  if (callback) {
    promise.then(function (res) {
      callback(null, res);
    }, callback);
  }

  return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    
    
    
    
    
    
    
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.cli" id="apidoc.module.nodemon.cli">module nodemon.cli</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.nodemon.cli.parse" id="apidoc.element.nodemon.cli.parse">
        function <span class="apidocSignatureSpan">nodemon.cli.</span>parse
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (argv) {
  if (typeof argv === &#x27;string&#x27;) {
    argv = stringToArgs(argv);
  }

  return parse(argv);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.config" id="apidoc.module.nodemon.config">module nodemon.config</a></h1>
    
    
    
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.config.load" id="apidoc.element.nodemon.config.load">
        function <span class="apidocSignatureSpan">nodemon.config.</span>load
        <span class="apidocSignatureSpan">(settings, ready)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (settings, ready) {
  reset();
  var config = this;
  load(settings, config.options, config, function (options) {
    config.options = options;

    if (options.watch.length === 0) {
      // this is to catch when the watch is left blank
      options.watch.push(&#x27;*.*&#x27;);
    }

    if (options[&#x27;watch_interval&#x27;]) { // jshint ignore:line
      options.watchInterval = options[&#x27;watch_interval&#x27;]; // jshint ignore:line
    }

    config.watchInterval = options.watchInterval || null;
    if (options[&#x27;signal&#x27;]) { // jshint ignore:line
      config.signal = options.signal;
    }

    var cmd = command(config.options);
    config.command = {
      raw: cmd,
      string: utils.stringify(cmd.executable, cmd.args),
    };

    // now run automatic checks on system adding to the config object
    options.monitor = rulesToMonitor(options.watch, options.ignore, config);

    var cwd = process.cwd();
    debug(&#x27;config: dirs&#x27;, config.dirs);
    if (config.dirs.length === 0) {
      config.dirs.unshift(cwd);
    }

    bus.emit(&#x27;config:update&#x27;, config);
    pinVersion().then(function () {
      ready(config);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.config.reset" id="apidoc.element.nodemon.config.reset">
        function <span class="apidocSignatureSpan">nodemon.config.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reset() {
  rules.reset();

  config.dirs = [];
  config.options = { ignore: [], watch: [] };
  config.lastStarted = 0;
  config.loaded = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    
    
    
    
    
    
    
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.monitor" id="apidoc.module.nodemon.monitor">module nodemon.monitor</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.nodemon.monitor.run" id="apidoc.element.nodemon.monitor.run">
        function <span class="apidocSignatureSpan">nodemon.monitor.</span>run
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(options) {
  var cmd = config.command.raw;

  var runCmd = !options.runOnChangeOnly || config.lastStarted !== 0;
  if (runCmd) {
    utils.log.status(&#x27;starting `&#x27; + config.command.string + &#x27;`&#x27;);
  }

<span class="apidocCodeCommentSpan">  /*jshint validthis:true*/
</span>  restart = run.bind(this, options);
  run.restart = restart;

  config.lastStarted = Date.now();

  var stdio = [&#x27;pipe&#x27;, &#x27;pipe&#x27;, &#x27;pipe&#x27;];

  if (config.options.stdout) {
    stdio = [&#x27;pipe&#x27;,
             process.stdout,
             process.stderr,];
  }

  var sh = &#x27;sh&#x27;;
  var shFlag = &#x27;-c&#x27;;

  if (utils.isWindows) {
    sh = &#x27;cmd&#x27;;
    shFlag = &#x27;/c&#x27;;
  }

  var executable = cmd.executable;

  // special logic for windows, as spaces in the paths need the path fragment
  // quoted, so it reads: c:\&#x22;Program Files&#x22;\nodejs\node.exe
  if (utils.isWindows &#x26;&#x26; executable.indexOf(&#x27; &#x27;) !== -1) {
    var re = /\\((\w+\s+)+\w+)(?=([\\\.]))(?=([^&#x22;]*&#x22;[^&#x22;]*&#x22;)*[^&#x22;]*$)/g;
    executable = executable.replace(re, &#x27;\\&#x22;$1&#x22;&#x27;);
  }

  var args = runCmd ? utils.stringify(executable, cmd.args) : &#x27;:&#x27;;
  var spawnArgs = [sh, [shFlag, args]];
  debug(&#x27;spawning&#x27;, args);

  if (utils.version.major === 0 &#x26;&#x26; utils.version.minor &#x3c; 8) {
    // use the old spawn args :-\
  } else {
    spawnArgs.push({
      env: utils.merge(options.execOptions.env, process.env),
      stdio: stdio,
    });
  }

  child = spawn.apply(null, spawnArgs);

  if (config.required) {
    var emit = {
      stdout: function (data) {
        bus.emit(&#x27;stdout&#x27;, data);
      },
      stderr: function (data) {
        bus.emit(&#x27;stderr&#x27;, data);
      },
    };

    // now work out what to bind to...
    if (config.options.stdout) {
      child.on(&#x27;stdout&#x27;, emit.stdout).on(&#x27;stderr&#x27;, emit.stderr);
    } else {
      child.stdout.on(&#x27;data&#x27;, emit.stdout);
      child.stderr.on(&#x27;data&#x27;, emit.stderr);

      bus.stdout = child.stdout;
      bus.stderr = child.stderr;
    }
  }

  bus.emit(&#x27;start&#x27;);

  utils.log.detail(&#x27;child pid: &#x27; + child.pid);

  child.on(&#x27;error&#x27;, function (error) {
    bus.emit(&#x27;error&#x27;, error);
    if (error.code === &#x27;ENOENT&#x27;) {
      utils.log.error(&#x27;unable to run executable: &#x22;&#x27; + cmd.executable + &#x27;&#x22;&#x27;);
      process.exit(1);
    } else {
      utils.log.error(&#x27;failed to start child process: &#x27; + error.code);
      throw error;
    }
  });

  child.on(&#x27;exit&#x27;, function (code, signal) {
    if (code === 127) {
      utils.log.error(&#x27;failed to start process, &#x22;&#x27; + cmd.executable +
        &#x27;&#x22; exec not found&#x27;);
      bus.emit(&#x27;error&#x27;, code);
      process.exit();
    }

    if (code === 2) {
      // something wrong with parsed command
      utils.log.error(&#x27;failed to start process, possible issue with exec &#x27; +
        &#x27;arguments&#x27;);
      bus.emit(&#x27;error&#x27;, code);
      process.exit();
    }

    // In case we killed the app ourselves, set the signal thusly
    if (killedAfterChange) {
      killedAfterChange = false;
      signal = config.signal;
    }
    // this is nasty, but it gives it windows support
    if (utils.isWindows &#x26;&#x26; signal === &#x27;SIGTERM&#x27;) {
      signal = config.signal;
    }

    if (signal === config.signal || code === 0) {
      // this was a clean exit, so emit exit, rather than crash
      debug(&#x27;bus.emit(exit) via &#x27; + config.signal);
      bus.emit(&#x27;exit&#x27;);

      // exit the monitor, but do it gracefully
      if (signal === config.signal) {
        return restart();
      } else if (code === 0) { // clean exit - wait until file change to restart
        if (runCmd) {
          utils.log.status(&#x27;clean exit - waiting for changes before restart&#x27;);
        }
        child = null;
      }
    } else {
      bus.emit(&#x27;crash&#x27;);
      if (options.exitcrash) {
        utils.log.fail(&#x27;app crashed&#x27;);
        if (!config.required) {
          process.exit(0);
        }
      } else {
        utils.log.fail(&#x27;app crashed - waiting for file changes before&#x27; +
        &#x27; starting...&#x27;);
        child = null;
      }
    }

    if (config.options.restartable) {
      // stdin needs to kick in again to be able to listen to the
      // restart command
      process.stdin.resume();
    }
  });

  run.kill = function (noRestart, callback) ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.monitor.watch" id="apidoc.element.nodemon.monitor.watch">
        function <span class="apidocSignatureSpan">nodemon.monitor.</span>watch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function watch() {
  if (watchers.length) {
    debug(&#x27;early exit on watch, still watching (%s)&#x27;, watchers.length);
    return;
  }

  var dirs = [].slice.call(config.dirs);

  debugRoot(&#x27;start watch on: %s&#x27;, dirs.join(&#x27;, &#x27;));
  debugRoot(&#x27;ignore dirs regex(%s)&#x27;, config.options.ignore.re);

  var promises = [];
  var watchedFiles = [];

  dirs.forEach(function (dir) {
    var promise = new Promise(function (resolve) {
      var ignored = config.options.ignore.re;
      var dotFilePattern = /[\/\\]\./;

      // don&#x27;t ignore dotfiles if explicitly watched.
      if (!dir.match(dotFilePattern)) {
        ignored = [ignored, dotFilePattern];
      }

      var watcher = chokidar.watch(dir, {
        ignored: ignored,
        persistent: true,
        usePolling: config.options.legacyWatch || false,
        interval: config.options.pollingInterval,
      });

      watcher.ready = false;

      var total = 0;

      watcher.on(&#x27;change&#x27;, filterAndRestart);
      watcher.on(&#x27;add&#x27;, function (file) {
        if (watcher.ready) {
          return filterAndRestart(file);
        }

        watchedFiles.push(file);
        total++;
        debug(&#x27;watching dir: %s&#x27;, file);
      });
      watcher.on(&#x27;ready&#x27;, function () {
        watcher.ready = true;
        resolve(total);
        debugRoot(&#x27;watch is complete&#x27;);
      });

      watcher.on(&#x27;error&#x27;, function (error) {
        if (error.code === &#x27;EINVAL&#x27;) {
          utils.log.error(&#x27;Internal watch failed. Likely cause: too many &#x27; +
            &#x27;files being watched (perhaps from the root of a drive?\n&#x27; +
            &#x27;See https://github.com/paulmillr/chokidar/issues/229 for details&#x27;);
        } else {
          utils.log.error(&#x27;Internal watch failed: &#x27; + error.message);
          process.exit(1);
        }
      });

      watchers.push(watcher);
    });
    promises.push(promise);
  });

  return Promise.all(promises).then(function (res) {
    var total = res.reduce(function (acc, curr) {
      acc += curr;
      return acc;
    }, 0);

    var count = total.toString().replace(/\B(?=(\d{3})+(?!\d))/g, &#x27;,&#x27;);
    utils.log.detail(&#x27;watching &#x27; + count + &#x27; files&#x27;);
    return watchedFiles;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.rules" id="apidoc.module.nodemon.rules">module nodemon.rules</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.nodemon.rules.add" id="apidoc.element.nodemon.rules.add">
        function <span class="apidocSignatureSpan">nodemon.rules.</span>add
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.rules.load" id="apidoc.element.nodemon.rules.load">
        function <span class="apidocSignatureSpan">nodemon.rules.</span>load
        <span class="apidocSignatureSpan">(filename, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function load(filename, callback) {
  parse(filename, function (err, result) {
    if (err) {
      // we should have bombed already, but
      utils.log.error(err);
      callback(err);
    }

    if (result.raw) {
      result.raw.forEach(add.bind(null, rules, &#x27;ignore&#x27;));
    } else {
      result.ignore.forEach(add.bind(null, rules, &#x27;ignore&#x27;));
      result.watch.forEach(add.bind(null, rules, &#x27;watch&#x27;));
    }

    callback(null, rules);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.rules.reset" id="apidoc.element.nodemon.rules.reset">
        function <span class="apidocSignatureSpan">nodemon.rules.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () { // just used for testing
  rules.ignore.length = rules.watch.length = 0;
  delete rules.ignore.re;
  delete rules.watch.re;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    
    
    
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.utils" id="apidoc.module.nodemon.utils">module nodemon.utils</a></h1>
    
    
    
    
    
    
    
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.utils.clone" id="apidoc.element.nodemon.utils.clone">
        function <span class="apidocSignatureSpan">nodemon.utils.</span>clone
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clone(obj) {
  // Handle the 3 simple types, and null or undefined
  if (null === obj || &#x27;object&#x27; !== typeof obj) {
    return obj;
  }

  var copy;

  // Handle Date
  if (obj instanceof Date) {
    copy = new Date();
    copy.setTime(obj.getTime());
    return copy;
  }

  // Handle Array
  if (obj instanceof Array) {
    copy = [];
    for (var i = 0, len = obj.length; i &#x3c; len; i++) {
      copy[i] = clone(obj[i]);
    }
    return copy;
  }

  // Handle Object
  if (obj instanceof Object) {
    copy = {};
    for (var attr in obj) {
      if (obj.hasOwnProperty &#x26;&#x26; obj.hasOwnProperty(attr)) {
        copy[attr] = clone(obj[attr]);
      }
    }
    return copy;
  }

  throw new Error(&#x27;Unable to copy obj! Its type isn\&#x27;t supported.&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.utils.merge" id="apidoc.element.nodemon.utils.merge">
        function <span class="apidocSignatureSpan">nodemon.utils.</span>merge
        <span class="apidocSignatureSpan">(source, target, result)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function merge(source, target, result) {
  if (result === undefined) {
    result = clone(source);
  }

  // merge missing values from the target to the source
  Object.getOwnPropertyNames(target).forEach(function (key) {
    if (source[key] === undefined) {
      result[key] = target[key];
    }
  });

  Object.getOwnPropertyNames(source).forEach(function (key) {
    var value = source[key];

    if (target[key] &#x26;&#x26; typesMatch(value, target[key])) {
      // merge empty values
      if (value === &#x27;&#x27;) {
        result[key] = target[key];
      }

      if (Array.isArray(value)) {
        if (value.length === 0 &#x26;&#x26; target[key].length) {
          result[key] = target[key].slice(0);
        }
      } else if (typeof value === &#x27;object&#x27;) {
        result[key] = merge(value, target[key]);
      }
    }
  });

  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.utils.quiet" id="apidoc.element.nodemon.utils.quiet">
        function <span class="apidocSignatureSpan">nodemon.utils.</span>quiet
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">quiet = function () {
  // nukes the logging
  if (!this.debug) {
    for (var method in utils.log) {
      if (typeof utils.log[method] === &#x27;function&#x27;) {
        utils.log[method] = noop;
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.utils.regexpToText" id="apidoc.element.nodemon.utils.regexpToText">
        function <span class="apidocSignatureSpan">nodemon.utils.</span>regexpToText
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">regexpToText = function (t) {
  return t.replace(/\.\*\\./g, &#x27;*.&#x27;)
          .replace(/\\{2}/g, &#x27;^^&#x27;)
          .replace(/\\/g, &#x27;&#x27;)
          .replace(/\^\^/g, &#x27;\\&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.utils.reset" id="apidoc.element.nodemon.utils.reset">
        function <span class="apidocSignatureSpan">nodemon.utils.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  if (!this.debug) {
    for (var method in utils.log) {
      if (typeof utils.log[method] === &#x27;function&#x27;) {
        delete utils.log[method];
      }
    }
  }
  this.debug = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.utils.stringify" id="apidoc.element.nodemon.utils.stringify">
        function <span class="apidocSignatureSpan">nodemon.utils.</span>stringify
        <span class="apidocSignatureSpan">(exec, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function (exec, args) {
  // serializes an executable string and array of arguments into a string
  args = args || [];

  return [exec].concat(args.map(function (arg) {
    // if an argument contains a space, we want to show it with quotes around
    // it to indicate that it is a single argument
    if (arg.indexOf(&#x27; &#x27;) === -1) {
      return arg;
    } else {
      // this should correctly escape nested quotes
      return JSON.stringify(arg);
    }
  })).join(&#x27; &#x27;).trim();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    
    
    
    
    
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodemon.version" id="apidoc.module.nodemon.version">module nodemon.version</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.nodemon.version.version" id="apidoc.element.nodemon.version.version">
        function <span class="apidocSignatureSpan">nodemon.</span>version
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function version(callback) {
  // first find the package.json as this will be our root
  var promise = findPackage(path.dirname(module.parent.filename))
    .then(function (dir) {
    // now try to load the package
    var v = require(path.resolve(dir, &#x27;package.json&#x27;)).version;

    if (v &#x26;&#x26; v !== &#x27;0.0.0&#x27;) {
      return v;
    }

    root = dir;

    // else we&#x27;re in development, give the commit out
    // get the last commit and whether the working dir is dirty
    var promises = [
      branch().catch(function () { return &#x27;master&#x27;; }),
      commit().catch(function () { return &#x27;&#x3c;none&#x3e;&#x27;; }),
      dirty().catch(function () { return 0; }),
    ];

    // use the cached result as the export
    return Promise.all(promises).then(function (res) {
      var branch = res[0];
      var commit = res[1];
      var dirtyCount = parseInt(res[2], 10);
      var curr = branch + &#x27;: &#x27; + commit;
      if (dirtyCount !== 0) {
        curr += &#x27; (&#x27; + dirtyCount + &#x27; dirty files)&#x27;;
      }

      return curr;
    });
  }).catch(function (error) {
    console.log(error.stack);
    throw error;
  });

  if (callback) {
    promise.then(function (res) {
      callback(null, res);
    }, callback);
  }

  return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.nodemon.version.pin" id="apidoc.element.nodemon.version.pin">
        function <span class="apidocSignatureSpan">nodemon.version.</span>pin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pin() {
  return version().then(function (v) {
    version.pinned = v;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
